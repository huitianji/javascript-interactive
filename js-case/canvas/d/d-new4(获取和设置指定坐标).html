<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
</head>
<body>
<canvas id="cas" width="400" height="400"></canvas>
<script>
    var oCas = document.getElementById("cas");
    var oCanvas = oCas.getContext("2d");//webgl --- 3d

    oCanvas.fillRect(0,0,100,100);

    var oImg = oCanvas.getImageData(0,0,100,100);
    //getXY(oImg,3,5);--->坐标 x=3  y=5 的颜色值
    //alert(getXY(oImg,3,5));
    //setXY(oImg,3,5,[255,0,0,255]);

    for(i = 0,len = oImg.width;i<len;i++){
        setXY(oImg,i,5,[255,0,0,255]);
    }
    oCanvas.putImageData(oImg,100,100);
    //
    function getXY(obj,x,y){//针对一行一列进行操作

        var w = obj.width;
        var h = obj.height;
        var d = obj.data;

        var color = [];
        color[0] = d[4*(y*w + x)];//像素值。。对应多少个像素
        color[1] = d[4*(y*w + x) + 1];
        color[2] = d[4*(y*w + x) + 2];
        color[3] = d[4*(y*w + x) + 3];
        return color;

    }
    //
    function setXY(obj,x,y,color){
        var w = obj.width;
        var h = obj.height;
        var d = obj.data;

        d[4*(y*w + x)] = color[0];
        d[4*(y*w + x) + 1] = color[1];
        d[4*(y*w + x) + 2] = color[2];
        d[4*(y*w + x) + 3] = color[3];

    }

    //参考线
    oCanvas.strokeRect(0,0,oCas.width,oCas.height);
</script>
</body>
</html>